

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Single cell in silico experiments under current clamp &mdash; cls-interactive 0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/style.css?v=8eff675d" />
      <link rel="stylesheet" href="../../../_static/css/style.css" type="text/css" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=10f1778b"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
      <script src="../../../_static/load_ga.js"></script>
      <script src="../../../_static/collapse.js"></script>
      <script src="../../../_static/banner.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Small Circuit In Silico Experiments" href="../../small_circuit_in_silico_experiments/small_circuit_in_silico_experiments.html" />
    <link rel="prev" title="Single Cell In Silico Experiments" href="../single_cell_in_silico.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            cls-interactive
              <img src="../../../_static/cls-banner.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_status_monitor/hpc_status_monitor.html">HPC Status Monitor</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../online_usecases.html">Online Use Cases</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../trace_analysis/trace_analysis.html">Trace Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../morphology_analysis/morphology_analysis.html">Morphology Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../single_cell_modeling/single_cell_modeling.html">Single Cell Building</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../single_cell_in_silico.html">Single Cell <em>In Silico</em> Experiments</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Single cell <em>in silico</em> experiments under current clamp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../small_circuit_in_silico_experiments/small_circuit_in_silico_experiments.html">Small Circuit <em>In Silico</em> Experiments</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">cls-interactive</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../online_usecases.html">Online Use Cases</a></li>
          <li class="breadcrumb-item"><a href="../single_cell_in_silico.html">Single Cell <em>In Silico</em> Experiments</a></li>
      <li class="breadcrumb-item active">Single cell <em>in silico</em> experiments under current clamp</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/online_usecases/single_cell_in_silico/single_cell_clamp/single_cell_clamp.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="single-cell-in-silico-experiments-under-current-clamp">
<span id="single-cell-clamp"></span><h1>Single cell <em>in silico</em> experiments under current clamp<a class="headerlink" href="#single-cell-in-silico-experiments-under-current-clamp" title="Link to this heading">ÔÉÅ</a></h1>
<p>The <em>Single cell in silico experiments under current/voltage clamp</em> Use Case
provides Web UI to access <strong>Neuron as a Service</strong> in order to load the single
cell models and run model simulations.</p>
<ol class="arabic">
<li><p>This Use Case can be run through the <em>Online Use Cases/Single Cell In Silico
Experiments</em> panel in the Brain Simulation Platform (click <a class="reference external" href="https://collab.humanbrainproject.eu/#/collab/1655/nav/66854">here</a> to access
the tool):</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/single_cell_in_silico.png"><img alt="../../../_images/single_cell_in_silico.png" src="../../../_images/single_cell_in_silico.png" style="width: 700px;" />
</a>
</div></blockquote>
</li>
<li><p>When you arrive at the <em>Single cell in silico experiments under current/voltage clamp</em> Use Case
you can select the single cell model from the HBP data:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/single_cell_in_silico_select.png"><img alt="../../../_images/single_cell_in_silico_select.png" src="../../../_images/single_cell_in_silico_select.png" style="width: 700px;" />
</a>
</div></blockquote>
</li>
<li><p>As a result, the single cell model will open in a new Browser window within the
<strong>Neuron as a Service</strong> web application. The following screenshot of the app is annotated with
red text to guide you through the interface:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/neuron_as_a_service_ui.png"><img alt="../../../_images/neuron_as_a_service_ui.png" src="../../../_images/neuron_as_a_service_ui.png" style="width: 700px;" />
</a>
</div></blockquote>
</li>
<li><p>Cell morphology can be visualized either in 3D view or 2D Dendrogram view. It is possible to
zoom/rotate/pan using your mouse/scroll wheel/trackpad.</p></li>
<li><p>Current clamp can be attached to any section by clicking the segment in the cell 3D/2D Dendrogram
view and then pressing the <em>Place current injection</em> button, or by selecting the section in the
tree view on the right and pressing the same button.</p></li>
<li><p>To run the simulation, switch to the <strong>Simulation</strong> tab. In this view, you can click
and select the segments to record the voltage from. They are added to the corresponding list. Up to
10 segments can be recorded from.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../../_images/neuron_as_a_service_ui_sim.png"><img alt="../../../_images/neuron_as_a_service_ui_sim.png" src="../../../_images/neuron_as_a_service_ui_sim.png" style="width: 700px;" />
</a>
</div></blockquote>
</li>
<li><p>The graph showing the traces recorded from the cell segments can be zoomed in by clicking and dragging
in order to select the area to zoom in. Double click on the graph will restore the original zoom level.</p></li>
<li><p>The recorded traces can be downloaded as csv file. The download link is available at the
bottom right corner of the graph after the simulation has finished.</p>
<p>The following jupyter notebook code shows how it can be loaded with pandas for the further analysis:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;sim_CA1_int_bAC_011023HP2_20170510120324_2017-06-21_14-36-10_amp-soma_0-0.7nA.csv&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;soma[0]_0&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>In order to initialize simulation parameters with certain values it is possible to append the application
URL with, for example, the following:
<code class="docutils literal notranslate"><span class="pre">?delay=0&amp;vinit=-86&amp;dt=.025&amp;amp=0&amp;hypamp=0&amp;tstop=500&amp;delay=100&amp;dur=800&amp;celsius=37</span></code></p></li>
<li><p>If the model folder contains file named <code class="file docutils literal notranslate"><span class="pre">traces.dat</span></code> containing experimental traces in the following format:</p>
<blockquote>
<div><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>time,soma[0]_0_exp,soma[0]_1_exp,soma[0]_2_exp,soma[0]_3_exp,soma[0]_4_exp,soma[0]_5_exp
0.004,-87.179,-87.136,-86.605,-86.825,-86.453,-85.763
0.044,-87.249,-87.053,-86.521,-86.863,-86.425,-85.787
0.084,-87.254,-87.013,-86.503,-86.861,-86.445,-85.776
</pre></div>
</div>
</div></blockquote>
<p>Then traces from this file will be loaded after the simulation completes, and in addition to the simulation
traces. If trace names following the naming convention: <code class="docutils literal notranslate"><span class="pre">SECTION\_SEGMENTINDEX\_ANYNAME</span></code> then the
corresponding segment will be highlighted when user hovers the mouse over the trace.</p>
</li>
<li><p>If the model folder contains file named <code class="file docutils literal notranslate"><span class="pre">synapses_meta.json</span></code> in the following format:</p>
<blockquote>
<div><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;exc&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;AMPANMDA_EMS&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;inh&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;GABAAB_EMS&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Then those channel mechanisms will be visualized on the morphology with the corresponding coloring for
excitatory and inhibitory.</p>
</li>
<li><p>If you have spines modeled as additional sections, it is assumed that they are constructed from a single
segment. They will also be correctly positioned and visualized on the morphology.</p></li>
</ol>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../single_cell_in_silico.html" class="btn btn-neutral float-left" title="Single Cell In Silico Experiments" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../small_circuit_in_silico_experiments/small_circuit_in_silico_experiments.html" class="btn btn-neutral float-right" title="Small Circuit In Silico Experiments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, EBRAINS Cellular Level Simulation Interactive members.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>